homicide_3yrdata %>%
summarize(
cases_amount = n()
)
homicide_3yrdata_disposition <- homicide_3yrdata %>%
group_by(disposition) %>%
summarize(
disposition_breakdown = n()
)
homicide_3yrdata_disposition
homicide_3yrdata_disposition %>%
group_by(disposition) %>%
summarize(
percent_cases = disposition_breakdown / sum(homicide_3yrdata_disposition$disposition_breakdown) * 100
)
homicide_data <- homicide_data %>%
mutate(year = year(reported_date))
homicide_arrests_per_city_per_year <- homicide_data %>%
filter(year == "2014" | year == "2017") %>%
group_by(city, year, disposition) %>%
mutate(
amount_of_cases_per_disposition = n()
) %>%
group_by(city, year) %>%
mutate(
amount_of_cases = n(),
percent_of_cases_per_disposition = amount_of_cases_per_disposition / amount_of_cases * 100
) %>%
filter(disposition == "Closed by arrest")
delta_homicide_arrests_per_city_per_year <- homicide_arrests_per_city_per_year %>%
select(city, year, percent_of_cases_per_disposition) %>%
distinct()
delta_homicide_arrests_per_city_per_year <- delta_homicide_arrests_per_city_per_year %>%
group_by(city) %>%
arrange(city, year, .by_group = TRUE) %>%
mutate(delta = percent_of_cases_per_disposition - lag(percent_of_cases_per_disposition))
view(delta_homicide_arrests_per_city_per_year)
delta_homicide_arrests_per_city_per_year %>%
mutate(
cities_with_negative_change = case_when(
delta < 0 ~ 'negative cases',
delta > 0 ~ 'positive cases'
)
) %>%
group_by(cities_with_negative_change) %>%
summarize(
count = n()
)
library(readr)
homicide_dataset <- read_csv("homicide-data.csv")
homicide_dataset$reported_date <- ymd(homicide_dataset$reported_date)
homicide_dataset$reported_date <- year(homicide_dataset$reported_date)
homicide_dataset_2014_to_2017 <- homicide_dataset  %>%
filter (reported_date == "2014" | reported_date == "2017") %>%
group_by (city, reported_date)%>%
summarize(count=n())%>%
group_by(city) %>%
arrange(city, reported_date, .by_group = TRUE) %>%
mutate(delta = count - lag(count))
homicide_dataset_2014_to_2017%>%
mutate(
cities_change = case_when(
delta < 0 ~ 'decrease',
delta > 0 ~ 'increase'
)
)%>%
group_by(cities_change)%>%
summarize(count=n())
# Turn off scientific notation
options(scipen=999)
# Load the tidyverse.
library(tidyverse)
library(readr)
urlfile="https://raw.githubusercontent.com/washingtonpost/data-homicides/master/homicide-data.csv"
homicide_data <- read_csv(url(urlfile))
baltimore_homicide_data <- homicide_data %>%
filter(city == "Baltimore")
early_baltimore_homicide_data <- baltimore_homicide_data %>%
filter(reported_date < 20150103)
successful_arrests <- early_baltimore_homicide_data %>%
filter(str_detect(disposition ,'by arrest'))
baltimore_homicide_data <- homicide_data %>%
filter(city == "Baltimore")
fifteen_baltimore_homicide_data <- baltimore_homicide_data %>%
filter(reported_date < 20159999) %>%
filter(reported_date > 20149999  )
##this code above gives me only cases from 2015
fifteen_successful_arrests <- fifteen_baltimore_homicide_data %>%
filter(str_detect(disposition ,'by arrest'))
baltimore_homicide_data <- homicide_data %>%
filter(city == "Baltimore")
sixteen_baltimore_homicide_data <- baltimore_homicide_data %>%
filter(reported_date < 20169999) %>%
filter(reported_date > 20159999  )
##this code above gives me only cases from 2016
sixteen_successful_arrests <- sixteen_baltimore_homicide_data %>%
filter(str_detect(disposition ,'by arrest'))
sixteen_successful_arrests
baltimore_homicide_data <- homicide_data %>%
filter(city == "Baltimore")
seventeen_baltimore_homicide_data <- baltimore_homicide_data %>%
filter(reported_date < 20179999) %>%
filter(reported_date > 20169999  )
##this code above gives me only cases from 2017
seventeen_successful_arrests <- seventeen_baltimore_homicide_data %>%
filter(str_detect(disposition ,'by arrest'))
seventeen_successful_arrests
baltimore_homicide_data <- homicide_data %>%
filter(city == "Baltimore")
fourteen_baltimore_homicide_data <- baltimore_homicide_data %>%
filter(reported_date < 20149999) %>%
filter(reported_date > 20139999  )
##this code above gives me only cases from 2017
fourteen_successful_arrests <- fourteen_baltimore_homicide_data %>%
filter(str_detect(disposition ,'by arrest'))
fourteen_successful_arrests
knitr::opts_chunk$set(echo = TRUE)
# Turn off scientific notation
options(scipen=999)
# Load the tidyverse,rvest,janitor
library(tidyverse)
library(rvest)
library(janitor)
install.packages("purrr")
library(purrr)
install.packages("purrr")
install.packages("purrr")
install.packages("purrr")
install.packages("purrr")
install.packages("purrr")
install.packages("purrr")
knitr::opts_chunk$set(echo = TRUE)
setwd("~/GitHub/military_presence")
# Turn off scientific notation
options(scipen=999)
# Load the tidyverse,rvest,janitor
library(tidyverse)
library(rvest)
library(janitor)
install.packages("purrr")
library(purrr)
# Turn off scientific notation
options(scipen=999)
# Load the tidyverse,rvest,janitor
library(tidyverse)
library(rvest)
library(janitor)
library(purrr)
# Turn off scientific notation
options(scipen=999)
# Load the tidyverse,rvest,janitor
library(tidyverse)
library(rvest)
library(janitor)
library(purrr)
military_url <- url("https://dwp.dmdc.osd.mil/dwp/app/dod-data-reports/workforce-reports")
military_data <- military_url %>%
read_html() %>%
html_element(a) %>%
html_text()
military_url <- url("https://dwp.dmdc.osd.mil/dwp/app/dod-data-reports/workforce-reports")
military_data <- military_url %>%
read_html() %>%
html_element("a") %>%
html_text()
military_url <- url("https://dwp.dmdc.osd.mil/dwp/app/dod-data-reports/workforce-reports")
military_data <- military_url %>%
read_html() %>%
html_element("a")
View(military_data)
military_data
install.packages("rcrawler")
install.packages("Rcrawler")
# Turn off scientific notation
options(scipen=999)
# Load the tidyverse,rvest,janitor
library(tidyverse)
library(rvest)
library(janitor)
library(Rcrawler)
# Turn off scientific notation
options(scipen=999)
# Load the tidyverse,rvest,janitor
library(tidyverse)
library(rvest)
library(janitor)
library(Rcrawler)
military_data <- Rcrawler(Website = "https://dwp.dmdc.osd.mil/dwp/app/dod-data-reports/workforce-reports", no_cores = 4, no_conn = 4)
View(INDEX)
military_data <- Rcrawler(Website = "https://dwp.dmdc.osd.mil/dwp/app/dod-data-reports/workforce-reports", no_cores = 4, no_conn = 4)
military_data %>%
ListProjects()
Rcrawler(Website = "https://dwp.dmdc.osd.mil/dwp/app/dod-data-reports/workforce-reports", no_cores = 4, no_conn = 4)
ListProjects()
Rcrawler(Website = "https://dwp.dmdc.osd.mil/dwp/app/dod-data-reports/workforce-reports", no_cores = 4, no_conn = 4)
ListProjects()
MyDATA<-LoadHTMLFiles("forum.zebulon.fr-011925", type = "vector")
install.packages("RSelenium")
knitr::opts_chunk$set(echo = TRUE)
knitr::opts_chunk$set(echo = TRUE)
# Turn off scientific notation
options(scipen=999)
# Load the tidyverse,rvest,janitor
library(tidyverse)
library(rvest)
library(janitor)
library(RSelenium)
# Turn off scientific notation
options(scipen=999)
# Load the tidyverse,rvest,janitor
library(tidyverse)
library(rvest)
library(janitor)
library(RSelenium)
driver <- rsDriver(browser=c("firefox"))
url <- "https://dwp.dmdc.osd.mil/dwp/app/dod-data-reports/workforce-reports"
remote_driver$navigate(url)
rD <- rsDriver(browser="firefox", port=4545L, verbose=F)
remDr <- rD[["client"]]
url <- "https://dwp.dmdc.osd.mil/dwp/app/dod-data-reports/workforce-reports"
remDr$navigate(url)
knitr::opts_chunk$set(echo = TRUE)
# Turn off scientific notation
options(scipen=999)
# Load the tidyverse,rvest,janitor
library(tidyverse)
library(rvest)
library(janitor)
library(RSelenium)
rD <- rsDriver(browser="firefox", port=4545L, verbose=F)
remDr <- rD[["client"]]
url <- "https://dwp.dmdc.osd.mil/dwp/app/dod-data-reports/workforce-reports"
remDr$navigate(url)
xl_xpath <- "/html/body/app-root/div/app-workforce-reports/div/div/div/ul/siad-page-item[1]/div/li/ul/div[2]"
xl_list <- driver$findElement(using = "xpath", value = xl_xpath)
rD <- rsDriver(browser="firefox", port=4545L, verbose=F)
rD <- rsDriver(browser="firefox", port=4545L, verbose=F)
rD <- rsDriver(browser="firefox", port=4545L, verbose=F)
url <- "https://dwp.dmdc.osd.mil/dwp/app/dod-data-reports/workforce-reports"
remDr$navigate(url)
knitr::opts_chunk$set(echo = TRUE)
# Turn off scientific notation
options(scipen=999)
# Load the tidyverse,rvest,janitor
library(tidyverse)
library(rvest)
library(janitor)
library(RSelenium)
rD <- rsDriver(browser="firefox", port=4545L, verbose=F)
remDr <- rD[["client"]]
url <- "https://dwp.dmdc.osd.mil/dwp/app/dod-data-reports/workforce-reports"
remDr$navigate(url)
xl_xpath <- "/html/body/app-root/div/app-workforce-reports/div/div/div/ul/siad-page-item[1]/div/li/ul/div[2]/li/ul/li[1]/a"
xl_list <- driver$findElement(using = "xpath", value = xl_xpath)
xxpath <- "/html/body/app-root/div/app-workforce-reports/div/div/div/ul/siad-page-item[1]/div/li/ul/div[2]/li/ul/li[1]/a"
xlist <- driver$findElement(using = "xpath", value = xxpath)
xlist <- driver$findElement(using = "xpath", value = /html/body/app-root/div/app-workforce-reports/div/div/div/ul/siad-page-item[1]/div/li/ul/div[2]/li/ul/li[1]/a)
xxpath <- "/html/body/app-root/div/app-workforce-reports/div/div/div/ul/siad-page-item[1]/div/li/ul/div[2]/li/ul/li[1]/a"
xlist <- driver$findElement(using = "xpath", value = html/body/app-root/div/app-workforce-reports/div/div/div/ul/siad-page-item[1]/div/li/ul/div[2]/li/ul/li[1]/a)
xxpath <- "/html/body/app-root/div/app-workforce-reports/div/div/div/ul/siad-page-item[1]/div/li/ul/div[2]/li/ul/li[1]/a"
xlist <- driver$findElement(remDr, using = "xpath", value = xxpath)
rD <- rsDriver(browser="firefox", port=4545L, verbose=F)
remDr %>% deleteSession
remDr %>% deleteSession()
remDr %>% end()
$ docker run -d -p 4445:4444 -p 5901:5900 -v /home/bas/Downloads: Users/lnben/Documents/GitHub/military_presence/data selenium/standalone-firefox
$ docker run -d -p 4445:4444 -p 5901:5900 -v /home/bas/Downloads:/home/seluser/Downloads selenium/standalone-firefox
docker run -d -p 4445:4444 -p 5901:5900 -v /home/bas/Downloads:/home/seluser/Downloads selenium/standalone-firefox
knitr::opts_chunk$set(echo = TRUE)
# Turn off scientific notation
options(scipen=999)
# Load the tidyverse,rvest,janitor
library(tidyverse)
library(rvest)
library(janitor)
library(RSelenium)
ePrefs <- RSelenium::makeFirefoxProfile(
list(
"browser.download.dir" = "/home/seluser/Downloads",
"browser.download.folderList" = 2L,
"browser.download.manager.showWhenStarting" = FALSE,
"browser.helperApps.neverAsk.saveToDisk" = "multipart/x-zip,application/zip,application/x-zip-compressed,application/x-compressed,application/msword,application/csv,text/csv,image/png ,image/jpeg, application/pdf, text/html,text/plain,  application/excel, application/vnd.ms-excel, application/x-excel, application/x-msexcel, application/octet-stream"))
ePrefs <- RSelenium::makeFirefoxProfile(
list(
"browser.download.dir" = "Users/lnben/Documents/GitHub/military_presence/data",
"browser.download.folderList" = 2L,
"browser.download.manager.showWhenStarting" = FALSE,
"browser.helperApps.neverAsk.saveToDisk" = "multipart/x-zip,application/zip,application/x-zip-compressed,application/x-compressed,application/msword,application/csv,text/csv,image/png ,image/jpeg, application/pdf, text/html,text/plain,  application/excel, application/vnd.ms-excel, application/x-excel, application/x-msexcel, application/octet-stream"))
$ docker run -d -p 4445:4444 -p 5901:5900 -v /Users/lnben/Documents/GitHub/military_presence/data:/home/seluser/Downloads selenium/standalone-firefox
docker run -d -p 4445:4444 -p 5901:5900 -v /Users/lnben/Documents/GitHub/military_presence/data:/home/seluser/Downloads selenium/standalone-firefox
remDr <- RSelenium::remoteDriver(browserName = "firefox",
port = 4445L,
extraCapabilities = ePrefs)
# $ docker run -d -p 4445:4444 -p 5901:5900 -v /home/bas/Downloads:/home/seluser/Downloads selenium/standalone-firefox
ePrefs <- RSelenium::makeFirefoxProfile(
list(
"browser.download.dir" = "/data",
"browser.download.folderList" = 2L,
"browser.download.manager.showWhenStarting" = FALSE,
"browser.helperApps.neverAsk.saveToDisk" = "multipart/x-zip,application/zip,application/x-zip-compressed,application/x-compressed,application/msword,application/csv,text/csv,image/png ,image/jpeg, application/pdf, text/html,text/plain,  application/excel, application/vnd.ms-excel, application/x-excel, application/x-msexcel, application/octet-stream"))
# $ docker run -d -p 4445:4444 -p 5901:5900 -v /home/bas/Downloads:/home/seluser/Downloads selenium/standalone-firefox
ePrefs <- RSelenium::makeFirefoxProfile(
list(
"browser.download.dir" = "D:/temp",
"browser.download.folderList" = 2L,
"browser.download.manager.showWhenStarting" = FALSE,
"browser.helperApps.neverAsk.saveToDisk" = "multipart/x-zip,application/zip,application/x-zip-compressed,application/x-compressed,application/msword,application/csv,text/csv,image/png ,image/jpeg, application/pdf, text/html,text/plain,  application/excel, application/vnd.ms-excel, application/x-excel, application/x-msexcel, application/octet-stream"))
setwd("~/")
# $ docker run -d -p 4445:4444 -p 5901:5900 -v /home/bas/Downloads:/home/seluser/Downloads selenium/standalone-firefox
ePrefs <- RSelenium::makeFirefoxProfile(
list(
"browser.download.dir" = "D:/temp",
"browser.download.folderList" = 2L,
"browser.download.manager.showWhenStarting" = FALSE,
"browser.helperApps.neverAsk.saveToDisk" = "multipart/x-zip,application/zip,application/x-zip-compressed,application/x-compressed,application/msword,application/csv,text/csv,image/png ,image/jpeg, application/pdf, text/html,text/plain,  application/excel, application/vnd.ms-excel, application/x-excel, application/x-msexcel, application/octet-stream"))
knitr::opts_chunk$set(echo = TRUE)
# Turn off scientific notation
options(scipen=999)
library(tidyverse)
example_sept_2019 <- read_csv("unconsolidated_data/example_sept_2019.csv")
view(example_sept_2019)
military_presence_data <- read_csv("military_presence_data.csv")
view(military_presence_data)
setwd("~/GitHub/military_presence/deliverable_02")
source("~/GitHub/military_presence/deliverable_02/idk.R", echo=TRUE)
source("~/GitHub/military_presence/deliverable_02/idk.R", echo=TRUE)
source("~/GitHub/military_presence/deliverable_02/idk.R", echo=TRUE)
dec_2009 <- read_xlsx("~/GitHub/military_presence/deliverable_02/unconsolidated_data/raw_data/dec_2009.xlsx")
source("~/GitHub/military_presence/deliverable_02/idk.R", echo=TRUE)
source("~/GitHub/military_presence/deliverable_02/idk.R", echo=TRUE)
source("~/GitHub/military_presence/deliverable_02/idk.R", echo=TRUE)
source("~/GitHub/military_presence/deliverable_02/idk.R", echo=TRUE)
source("~/GitHub/military_presence/deliverable_02/idk.R", echo=TRUE)
source("~/GitHub/military_presence/deliverable_02/idk.R", echo=TRUE)
source("~/GitHub/military_presence/deliverable_02/idk.R", echo=TRUE)
source("~/GitHub/military_presence/deliverable_02/idk.R", echo=TRUE)
source("~/GitHub/military_presence/deliverable_02/idk.R", echo=TRUE)
source("~/GitHub/military_presence/deliverable_02/idk.R", echo=TRUE)
source("~/GitHub/military_presence/deliverable_02/idk.R", echo=TRUE)
source("~/GitHub/military_presence/deliverable_02/idk.R", echo=TRUE)
source("~/GitHub/military_presence/deliverable_02/idk.R", echo=TRUE)
source("~/GitHub/military_presence/deliverable_02/idk.R", echo=TRUE)
source("~/GitHub/military_presence/deliverable_02/idk.R", echo=TRUE)
source("~/GitHub/military_presence/deliverable_02/idk.R", echo=TRUE)
source("~/GitHub/military_presence/deliverable_02/idk.R", echo=TRUE)
source("~/GitHub/military_presence/deliverable_02/idk.R", echo=TRUE)
View(military_presence_data)
source("~/GitHub/military_presence/deliverable_02/idk.R", echo=TRUE)
View(military_presence_data)
source("~/GitHub/military_presence/deliverable_02/idk.R", echo=TRUE)
source("~/GitHub/military_presence/deliverable_02/idk.R", echo=TRUE)
source("~/GitHub/military_presence/deliverable_02/idk.R", echo=TRUE)
View(military_presence_data)
source("~/GitHub/military_presence/deliverable_02/idk.R", echo=TRUE)
source("~/GitHub/military_presence/deliverable_02/idk.R", echo=TRUE)
source("~/GitHub/military_presence/deliverable_02/idk.R", echo=TRUE)
source("~/GitHub/military_presence/deliverable_02/idk.R", echo=TRUE)
source("~/GitHub/military_presence/deliverable_02/idk.R", echo=TRUE)
source("~/GitHub/military_presence/deliverable_02/idk.R", echo=TRUE)
source("~/GitHub/military_presence/deliverable_02/idk.R", echo=TRUE)
source("~/GitHub/military_presence/deliverable_02/idk.R", echo=TRUE)
source("~/GitHub/military_presence/deliverable_02/idk.R", echo=TRUE)
source("~/GitHub/military_presence/deliverable_02/idk.R", echo=TRUE)
source("~/GitHub/military_presence/deliverable_02/idk.R", echo=TRUE)
source("~/GitHub/military_presence/deliverable_02/idk.R", echo=TRUE)
military_presence_data <- military_presence_data %>%
select(-c(2, 9, 17, 23, 24, 25)) %>%
filter(!row_number() %in% c(1, 2, 3, 4)) %>%
rename(Location = c(2),
Army_Active_Duty = c(3),
Navy_Active_Duty = c(4),
Marine_Corps_Active_Duty = c(5),
Air_Force_Active_Duty = c(6),
Coast_Guard_Active_Duty = c(7),
Army_National_Guard = c(8),
Army_Reserve = c(9),
Navy_Reserve = c(10),
Marine_Corps_Reserve = c(11),
Air_National_Guard = c(12),
Air_Force_Reserve = c(13),
Coast_Guard_Reserve = c(14),
Army_APF_DOD_Civilian = c(15),
Navy_APF_DOD_Civilian = c(16),
Marine_Corps_APF_DOD_Civilian = c(17),
Air_Force_APF_DOD_Civilian = c(18),
Fourth_Estate_DOD = c(19)
) %>%
filter(!row_number() %in% c(1))
source("~/GitHub/military_presence/deliverable_02/idk.R", echo=TRUE)
source("~/GitHub/military_presence/deliverable_02/idk.R", echo=TRUE)
source("~/GitHub/military_presence/deliverable_02/idk.R", echo=TRUE)
install.packages(gdata)
install.packages("gdata")
setwd("~/GitHub/data_journalism_2022_spring/pre_labs/pre_lab_12")
knitr::opts_chunk$set(echo = TRUE)
install.packages("ggrepel")
library(tidyverse)
library(janitor)
library(lubridate)
library(ggrepel)
library(sf)
#install.packages("ggrepel")
library(tidyverse)
library(janitor)
library(lubridate)
library(ggrepel)
library(sf)
county_vaccinations_by_date <- read_csv("https://raw.githubusercontent.com/state-of-maryland/VaccineCSVs/master/MD_COVID19_TotalVaccinationsCountyFirstandSecondSingleDose.csv") %>%
clean_names()
View(county_vaccinations_by_date)
county_vaccinations_by_date <- county_vaccinations_by_date %>%
mutate(vaccination_date = date(mdy_hms(vaccination_date)))
county_totals <- county_vaccinations_by_date %>%
group_by(county) %>%
summarize(total = n())
View(county_totals)
county_vaccinations_by_date %>%
filter(is.na(county))
county_vaccinations_by_date <- county_vaccinations_by_date %>%
filter(!is.na(county))
county_vaccinations_by_date %>% arrange(desc(vaccination_date))
ranked <- county_vaccinations_by_date %>%
filter(county == "Prince George's") %>%
mutate(rank = min_rank(desc(fully_vaccinated))) %>%
arrange(desc(vaccination_date)) %>%
select(county, vaccination_date, fully_vaccinated, rank)
View(ranked)
latest_date <- ranked %>% slice(1)
one_week_ago <- ranked %>% filter(vaccination_date == latest_date$vaccination_date - 7)
latest_date <- latest_date %>%
mutate(pct_change_week = (fully_vaccinated - one_week_ago$fully_vaccinated)/one_week_ago$fully_vaccinated *100)
ggplot() +
geom_bar(data=ranked, aes(x=vaccination_date, weight=fully_vaccinated))
ggplot() +
geom_bar(data=ranked, aes(x=vaccination_date, weight=fully_vaccinated)) +
geom_bar(data=latest_date, aes(x=vaccination_date, weight=fully_vaccinated), fill="red") +
geom_point(data=latest_date, aes(x=vaccination_date, y=fully_vaccinated)) +
geom_text_repel(data=latest_date, aes(x=vaccination_date, y=fully_vaccinated + 150, label="Latest date")) +
geom_smooth(data=ranked, aes(x=vaccination_date, y=fully_vaccinated), method=loess, se=FALSE) +
labs(title="Prince George's County Fully Vaccinated Tailing Off", x="Date", y="Fully Vaccinated") +
theme_minimal() +
theme(
plot.title = element_text(size = 16, face = "bold"),
axis.title = element_text(size = 8),
plot.subtitle = element_text(size=10),
panel.grid.minor = element_blank()
)
changetext <- round(latest_date$pct_change_week[[1]], digits=2)
direction <- if_else(changetext > 0, "increased", "decreased")
sub <- paste("The number of people in Prince George's County who got fully vaccinated on ", format(latest_date$vaccination_date, format="%B %d"), " ", direction, " by ", changetext, " percent compared to the week before", sep="")
sub
ggplot() +
geom_bar(data=ranked, aes(x=vaccination_date, weight=fully_vaccinated)) +
geom_bar(data=latest_date, aes(x=vaccination_date, weight=fully_vaccinated), fill="red") +
geom_point(data=latest_date, aes(x=vaccination_date, y=fully_vaccinated)) +
geom_text_repel(data=latest_date, aes(x=vaccination_date, y=fully_vaccinated + 150, label="Latest date")) +
geom_smooth(data=ranked, aes(x=vaccination_date, y=fully_vaccinated), method=loess, se=FALSE) +
labs(title="Prince George's County Fully Vaccinated Tailing Off", subtitle=sub, x="Date", y="Fully Vaccinated") +
theme_minimal() +
theme(
plot.title = element_text(size = 16, face = "bold"),
axis.title = element_text(size = 8),
plot.subtitle = element_text(size=10),
panel.grid.minor = element_blank()
)
covid <- read_csv("https://raw.githubusercontent.com/nytimes/covid-19-data/master/us-counties.csv")
head(covid)
maryland <- covid %>% filter(state == "Maryland")
ggplot() + geom_line(data=maryland, aes(x=date, y=cases, group=county, color=county))
ggplot() + geom_line(data=maryland, aes(x=date, y=cases, group=county, color=county)) + scale_y_continuous(trans="log10")
current <- maryland %>% summarize(max(date))
marylandcurrent <- maryland %>% filter(date == current[[1]]) %>% rename(GEOID = fips)
counties <- st_read("data/cb_2018_us_county_5m/cb_2018_us_county_5m.shp")
counties <- counties %>% left_join(marylandcurrent)
View(counties)
View(counties)
mdcounties <- counties %>% filter(STATEFP == 24)
ggplot() +
geom_sf(data=mdcounties, aes(fill=cases)) +
scale_fill_viridis_c(option = "plasma", trans = "sqrt") +
theme_void() +
labs(title = paste("COVID-19 cases as of ", current[[1]], sep=""))
setwd("~/GitHub/military_presence/deliverable_02")
source("~/GitHub/military_presence/deliverable_02/idk.R", echo=TRUE)
source("~/GitHub/military_presence/deliverable_02/idk.R", echo=TRUE)
source("~/GitHub/military_presence/deliverable_02/idk.R", echo=TRUE)
View(military_presence_data)
source("~/GitHub/military_presence/deliverable_02/idk.R", echo=TRUE)
source("~/GitHub/military_presence/deliverable_02/idk.R", echo=TRUE)
source("~/GitHub/military_presence/deliverable_02/idk.R", echo=TRUE)
source("~/GitHub/military_presence/deliverable_02/idk.R", echo=TRUE)
source("~/GitHub/military_presence/deliverable_02/idk.R", echo=TRUE)
source("~/GitHub/military_presence/deliverable_02/idk.R", echo=TRUE)
source("~/GitHub/military_presence/deliverable_02/idk.R", echo=TRUE)
military_presence_data <- military_presence_data %>%
select(-c(2, 9, 17, 23, 24, 25))
source("~/GitHub/military_presence/deliverable_02/idk.R", echo=TRUE)
source("~/GitHub/military_presence/deliverable_02/idk.R", echo=TRUE)
source("~/GitHub/military_presence/deliverable_02/idk.R", echo=TRUE)
source("~/GitHub/military_presence/deliverable_02/idk.R", echo=TRUE)
source("~/GitHub/military_presence/deliverable_02/idk.R", echo=TRUE)
source("~/GitHub/military_presence/deliverable_02/idk.R", echo=TRUE)
source("~/GitHub/military_presence/deliverable_02/idk.R", echo=TRUE)
source("~/GitHub/military_presence/deliverable_02/idk.R", echo=TRUE)
i <- c(3:23)
military_presence_data[ , i] <- apply(military_presence_data[ , i], 2,            # Specify own function within apply
function(x) as.numeric(as.character(x)))
i <- c(3:19)
military_presence_data[ , i] <- apply(military_presence_data[ , i], 2,            # Specify own function within apply
function(x) as.numeric(as.character(x)))
source("~/GitHub/military_presence/deliverable_02/idk.R", echo=TRUE)
source("~/GitHub/military_presence/deliverable_02/idk.R", echo=TRUE)
